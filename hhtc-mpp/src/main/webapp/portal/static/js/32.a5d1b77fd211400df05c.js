webpackJsonp([32],{160:function(e,t,n){t=e.exports=n(11)(!1),t.push([e.i,".corner[data-v-99bd7f1c]{width:85%;height:2rem;border-radius:10px;background-color:#fff;margin:20px auto;text-align:center}.num[data-v-99bd7f1c]{width:75%;height:.65rem}.btn[data-v-99bd7f1c],.num[data-v-99bd7f1c]{font-size:12px;margin:0 auto;margin-top:10px}.btn[data-v-99bd7f1c]{width:50%;height:.5rem;border-radius:5px;color:#fff;background-color:#52e6ff}.bottom[data-v-99bd7f1c]{position:absolute;bottom:0;left:0;width:100%;height:1rem;line-height:1rem;text-align:center;color:#fff;font-size:14px;background-color:#6781ec}",""])},197:function(e,t,n){var o=n(160);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(12)("188f30bf",o,!0)},21:function(e,t,n){function o(e){n(197)}var i=n(3)(n(93),n(269),o,"data-v-99bd7f1c",null);e.exports=i.exports},269:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"guide_page1"},[n("div",{staticClass:"corner"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"num",attrs:{type:"number",placeholder:"请输入手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)},blur:function(t){e.$forceUpdate()}}}),e._v(" "),n("br"),e._v(" "),n("input",{staticClass:"btn",attrs:{id:"btn",type:"button",value:"发送验证码"},on:{click:e.sendCode}}),e._v(" "),n("br")]),e._v(" "),n("div",{staticClass:"bottom"},[e._v("下一步")])])},staticRenderFns:[]}},54:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(0),i=new o.a},93:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(54);t.default={devtool:"cheap-module-source-map",data:function(){return{maxLength:11,alignTime:60,iscansend:!1,phone:""}},mounted:function(){},activated:function(){o.a.$emit("changPosition","1")},created:function(){},watch:{phone:function(){/^1[3|4|5|7|8]\d{9}$/.test(this.phone)?this.iscansend=!0:this.iscansend=!1,this.phone.length>this.maxLength&&(this.phone=this.phone.substr(0,this.maxLength))}},methods:{verification:function(){var e=this;$.ajax({url:urlDir+"/wx/fans/isreg",type:"GET",data:{phoneNo:this.phone},success:function(t){0==t.code&&t.data&&(e.phone="",error_msg("该手机号已注册,请重新输入",2e3))},error:function(e){}})},getFansInfo:function(){var e=this;$.ajax({url:urlDir+"/wx/fans/get",type:"GET",success:function(t){0==t.code&&(e.phone=t.data.phoneNo)},error:function(e){}})},senSMS:function(){var e=this;e.alignTime=60,e.alignGo(),$("#btn").attr("disabled","disabled"),e.goRouter("/guide_page1_code")},alignGo:function(){var e=this;clearInterval(this.time),e.iscanalign=!1,this.time=setInterval(function(){e.alignTime-=1,$("input[id^=btn]").attr("value",e.alignTime+"秒后下一次发送"),e.alignTime<0&&(e.iscanalign=!0,e.alignTime=60,$("#btn").removeAttr("disabled"),$("#btn").attr("value","发送验证码"),clearInterval(e.time))},1e3)},sendCode:function(){var e=this;this.iscansend?(this.iscansend=!1,$.ajax({url:urlDir+"/wx/common/sms/send",type:"POST",data:{phoneNo:this.phone,type:1},success:function(t){e.iscansend=!0,0==t.code?(e.alignTime=60,e.alignGo(),$("#btn").attr("disabled","disabled"),localStorage.setItem("phoneNo",e.phone),e.goRouter("/guide_page1_code")):3111==t.code?error_msg("该手机已经被注册啦",2e3):1001==t.code?error_msg("系统繁忙",2e3):3010==t.code||3011==t.code||3012==t.code?(error_msg("短信发布太频繁",2e3),e.alignTime=1*t.data,e.alignGo()):error_msg(t.code+" 错误 "+t.msg,2e3)},error:function(e){error_msg("网络错误",2e3)}})):error_msg("请输入正确的手机号",2e3)},goRouter:function(e){this.$router.push({path:e})}}}}});